#!/usr/bin/env bash
#
# Script to set colors generated by 'wal'
# Adapted from: https://github.com/dylanaraps/wal

# Source generated colors.
source "$HOME/.cache/wal/colors.sh"

reload_dunst() {
    pkill dunst && \
        dunst \
            -lb "$color15" \
            -nb "$color15" \
            -cb "$color15" \
            -lf "$color0"  \
            -bf "$color0"  \
            -cf "$color9" &
}

reload_bar() {
    . "$HOME/bin/scripts/launch_polybar.sh"
}

main() {
    # Use wpg to correct the color scheme
    if command -v wpg >/dev/null 2>&1; then
        wpg -e
        wpg-install.sh -gi
    fi
    
    reload_dunst &
    reload_bar &
}

main >/dev/null 2>&1
